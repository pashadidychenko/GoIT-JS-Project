{"version":3,"sources":["webpack:///./js/serviceApi.js","webpack:///./js/4filmDetailsPage.js","webpack:///./js/1initialHomePage.js","webpack:///./js/2searchAndPlaginationHomePage.js","webpack:///./js/3navigation.js","webpack:///./js/5libraryPage.js"],"names":["Axios","require","default","API_KEY","POPULAR_URL","SEARCH_URL","DETAIL_URL","GENRES_URL","genres","getMoviesData","movieId","inputVaue","pageNumber","get","then","response","moviesDetail","data","searchFilm","results","popularFilm","map","el","push","fetchGenres","deteilLink","homePage","document","getElementById","detailFilm","detailFilmImage","detailFilmTitle","vote","popularity","originalTitle","gender","aboutFilmText","libraryButton","watched","queue","inputForm","buttonContainerGroup","fragment","createDocumentFragment","addHtmlData","fragmentHtml","rootHtml","append","innerHTML","onNavigete","pathname","window","history","pushState","location","origin","renderFilms","libraryBox","classList","add","renderPopularMovies","list","querySelector","films","film","createCardFunc","backdrop_path","title","id","a","createElement","li","addEventListener","remove","detailFilmData","src","poster_path","release_date","substring","vote_average","vote_count","toFixed","original_title","name","join","overview","activeDetailsPage","className","divTitle","imgSrc","img","setAttribute","chengePage","sign","searchForm","searchInput","buttonPrev","buttonNext","errorMessage","pageCounter","buttonSection","addHtml","searchFilms","length","e","preventDefault","reset","text","target","value","currentTarget","logoButton","homeButton","myLibButton","activeHomePage"],"mappings":"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","file":"main.6057e6c0ecff20b7b351.js","sourcesContent":["const Axios = require('axios').default;\r\n\r\nconst API_KEY = '66f23c1b86846c1f0c0b18d0fb8daf16';\r\nconst POPULAR_URL = 'https://api.themoviedb.org/3/movie/popular?api_key=';\r\nconst SEARCH_URL = 'https://api.themoviedb.org/3/search/movie?api_key=';\r\nconst DETAIL_URL = 'https://api.themoviedb.org/3/movie/';\r\nconst GENRES_URL = 'https://api.themoviedb.org/3/genre/movie/list?api_key=';\r\nconst genres = [];\r\n\r\nasync function getMoviesData(movieId = null, inputVaue = null, pageNumber = 1) {\r\n  if (movieId !== null) {\r\n    let moviesDetail;\r\n    await Axios.get(\r\n      `${DETAIL_URL}${movieId}?api_key=${API_KEY}&language=en-US&include_adult=false`,\r\n    ).then(response => (moviesDetail = response.data));\r\n    return moviesDetail;\r\n  }\r\n  if (inputVaue !== null) {\r\n    let searchFilm;\r\n    await Axios.get(\r\n      `${SEARCH_URL}${API_KEY}&language=en-US&query=${inputVaue}&page=${pageNumber}&include_adult=true`,\r\n    ).then(response => (searchFilm = response.data.results));\r\n    return searchFilm;\r\n  }\r\n  let popularFilm;\r\n  await Axios.get(\r\n    `${POPULAR_URL}${API_KEY}&language=en-US&page=${pageNumber}`,\r\n  ).then(response => (popularFilm = response.data.results));\r\n  return popularFilm;\r\n}\r\n\r\nasync function fetchGenres() {\r\n  await Axios.get(\r\n    `${GENRES_URL}${API_KEY}&language=en-US&include_adult=false`,\r\n  ).then(response => response.data.genres.map(el => genres.push(el)));\r\n  return genres;\r\n}\r\nfetchGenres();\r\n\r\nexport { getMoviesData, genres };\r\n\r\n// Добавлен глобальный запрос на получение данних с кинопоиска, а так же глобально доступ к переменной с жанрами genres\r\n// Как сними работать:\r\n\r\n// Если в Вашей части нужны данные с кинопоиска или переменная genres, первым делом импортируем их в свой файл:\r\n// import { getMoviesData, genres } from './serviceApi';\r\n\r\n// переменная genres уже в себе содержит масив с жанрами, можем с ним на прямую уже работать.\r\n\r\n// Глобальный запрос getMoviesData это функция которая принимает три переменных (movieId, inputVaue, pageNumber) getMoviesData(movieId, inputVaue, pageNumber).\r\n\r\n// Как с ней работать:\r\n\r\n// ДЕТАЛЬНОЕ ОПИСАНИЕ КОНКРЕТНОГО ФИЛЬМА\r\n// Если нам нужно получить данные о фильме мы вызиваем ее и передаем туда movieId в ответ получаем промис который обрабатываем через then, на выходе получаем готовый обьект с данными о выбраном фильме. ПРИМЕР:\r\n// getMoviesData(movieId).then(data => {moviesDetail => {console.log(moviesDetail)});\r\n// в место console.log(moviesDetail) в фигурных скобках мы ставим свой код который рисует разметку по полученым данным.\r\n\r\n// МАСИВ ПОПУЛЯРНЫХ ФИЛЬМОВ\r\n// Если нам нужно получить популярные фильмы вызиваем функцию getMoviesData(null, null, pageNumber), на выходе получаем масив обьектов с популярними фильмами, после проходимся по нему мапом и пушим в переменную по которой у нас потом идет прорисовка данных (у нас это renderFilms), при изменении страницы мы меняем pageNumber, очищяем масив renderFilms, повторно вызиваем getMoviesData(null, null, pageNumber) уже с новым номером страници и в этой функции пушим новые данные в renderFilms. ПРИМЕР:\r\n// getMoviesData(null, null, pageNumber).then(films => {films.map(film => {renderFilms.push(film)}\r\n\r\n// ПОИСК ФИЛЬМОВ ПО СТРОКЕ ЗАПРОСА\r\n// Работает аналогично как при запросе популярных фильмов только добавляется строка запроса getMoviesData(null, 'inputVaue', pageNumber) обрабатывается так же как и при поиске популярных.\r\n// getMoviesData(null, inputVaue, pageNumber).then(films => {films.map(film => {renderFilms.push(film)}\r\n\r\n// Ниже примеры для просмотра данных которые получаем, в зависимости от того что Вам нужно раскоментируйте нужную часть, и можно будет увидеть полученные данные в консоли.\r\n\r\n// ДЕТАЛЬНОЕ ОПИСАНИЕ КОНКРЕТНОГО ФИЛЬМА\r\n// getMoviesData(550).then(moviesDetail => {\r\n//   console.log('moviesDetail', moviesDetail);\r\n// });\r\n\r\n// МАСИВ ПОПУЛЯРНЫХ ФИЛЬМОВ\r\n// getMoviesData(null, null, 1).then(popularFilm => {\r\n//   console.log('popularFilm', popularFilm);\r\n// });\r\n\r\n// ПОИСК ФИЛЬМОВ ПО СТРОКЕ ЗАПРОСА\r\n// getMoviesData(null, 'cat', 1).then(searchFilm =>\r\n//   console.log('searchFilm', searchFilm),\r\n// );\r\n","import { getMoviesData } from './serviceApi';\r\nimport { onNavigete } from './1initialHomePage';\r\n\r\nconst deteilLink = {\r\n  homePage: document.getElementById('homePage'),\r\n  detailFilm: document.getElementById('detailFilm'),\r\n  detailFilmImage: document.getElementById('detailFilmImage'),\r\n  detailFilmTitle: document.getElementById('detailFilmTitle'),\r\n  vote: document.getElementById('vote'),\r\n  popularity: document.getElementById('popularity'),\r\n  originalTitle: document.getElementById('originalTitle'),\r\n  gender: document.getElementById('gender'),\r\n  aboutFilmText: document.getElementById('aboutFilmText'),\r\n  libraryButton: document.getElementById('libraryButton'),\r\n  watched: document.getElementById('watched'),\r\n  queue: document.getElementById('queue'),\r\n  inputForm: document.getElementById('inputForm'),\r\n  buttonContainerGroup: document.getElementById('buttonContainerGroup'),\r\n};\r\nconst IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\r\nconst fragment = document.createDocumentFragment();\r\n\r\nfunction addHtmlData(fragmentHtml, rootHtml) {\r\n  fragment.append(fragmentHtml);\r\n  rootHtml.innerHTML = '';\r\n  rootHtml.append(fragment);\r\n}\r\n\r\nfunction activeDetailsPage(id) {\r\n  onNavigete(`/${id}/`);\r\n  deteilLink.homePage.classList.add('hide');\r\n  deteilLink.detailFilm.classList.remove('hide');\r\n  getMoviesData(id).then(detailFilmData => {\r\n    deteilLink.detailFilmImage.src = `${IMAGE_URL}${detailFilmData.poster_path}`;\r\n    addHtmlData(\r\n      `${detailFilmData.title}  (${detailFilmData.release_date.substring(\r\n        0,\r\n        4,\r\n      )})`,\r\n      deteilLink.detailFilmTitle,\r\n    );\r\n    addHtmlData(\r\n      `${detailFilmData.vote_average} / ${detailFilmData.vote_count}`,\r\n      deteilLink.vote,\r\n    );\r\n    addHtmlData(detailFilmData.popularity.toFixed(1), deteilLink.popularity);\r\n    addHtmlData(detailFilmData.original_title, deteilLink.originalTitle);\r\n    addHtmlData(\r\n      detailFilmData.genres.map(({ name }) => `${name}`).join(', '),\r\n      deteilLink.gender,\r\n    );\r\n    addHtmlData(detailFilmData.overview, deteilLink.aboutFilmText);\r\n  });\r\n}\r\nexport { activeDetailsPage };\r\n\r\nfunction monitorButtonStatusText() {}\r\n//которая следит за состоянием (значок и текст в кнопке) читает  local storage по ключу filmsQueue и  filmsWatched и меняет текст и значки в кнопках: Delete from queue / Add to queue ; Delete from watched / Add to watched.\r\n\r\nfunction toggleToQueue() {}\r\n// (будет добавлять или удалять фильмы из очереди просмотра), которая создает переменную массива в очереди, читает local storage по ключу filmsQueue если результат не пустой то пушит элементы в нашу переменную, ! также функция вплотную работает с глобальной переменной selectFilm, и если selectFilm содержиться в нашей переменной то убираем его оттуда иначе добавляем selectFilm в нашу переменную, потом эта функция кладет нашу переменную в  local storage, запускает в конце себя функцию monitorButtonStatusText;\r\n\r\nfunction toggleToWatched() {}\r\n\r\n// (будет добавлять или удалять фильмы из просмотренных), суть ее работы один в один как toggleToQueue  только работает с local storage по ключу filmsWatched.\r\n\r\nfunction showDetails() {}\r\n// которая принимает параметром selectFilm (глобальная переменная - объект, которая создана в задаче номер три) и рендерит всю разметку согласно макета, в этой функции запускается функция monitorButtonStatusText.\r\n","'use strict';\r\nimport { getMoviesData, genres } from './serviceApi';\r\nimport { activeDetailsPage } from './4filmDetailsPage';\r\n\r\nconst onNavigete = pathname => {\r\n  window.history.pushState({}, pathname, window.location.origin + pathname);\r\n};\r\nconst renderFilms = [];\r\nlet pageNumber = 1;\r\n\r\nonNavigete(`/`);\r\n\r\nconst detailFilm = document.getElementById('detailFilm');\r\nconst libraryBox = document.getElementById('libraryBox');\r\n\r\ndetailFilm.classList.add('hide');\r\nlibraryBox.classList.add('hide');\r\n\r\nconst fragment = document.createDocumentFragment();\r\nfunction renderPopularMovies(pageNumber) {\r\n  const list = document.querySelector('#films-gallery');\r\n  getMoviesData(null, null, pageNumber).then(films => {\r\n    films.map(film => {\r\n      renderFilms.push(film);\r\n      createCardFunc(film);\r\n      fragment.append(createCardFunc(film));\r\n    });\r\n    list.innerHTML = '';\r\n    list.append(fragment);\r\n  });\r\n  onNavigete(`/page=${pageNumber}`);\r\n}\r\nrenderPopularMovies(pageNumber);\r\nfunction createCardFunc({ backdrop_path, title, id }) {\r\n  const list = document.querySelector('#films-gallery');\r\n  const a = document.createElement('a');\r\n  const li = document.createElement('li');\r\n  li.addEventListener('click', () => activeDetailsPage(id, false));\r\n  li.className = 'card__container';\r\n  const divTitle = document.createElement('div');\r\n  divTitle.className = 'card__title';\r\n  divTitle.innerHTML = title;\r\n\r\n  const img = document.createElement('img');\r\n  img.className = 'card__img';\r\n  let imgSrc;\r\n  if (backdrop_path === null) {\r\n    imgSrc = 'https://image.freepik.com/free-vector/404_175838-592.jpg';\r\n  } else {\r\n    imgSrc = `https://image.tmdb.org/t/p/w500/${backdrop_path}`;\r\n  }\r\n\r\n  img.setAttribute('src', imgSrc);\r\n  img.setAttribute('alt', title);\r\n\r\n  li.append(divTitle, img);\r\n  a.append(li);\r\n  list.append(a);\r\n  return a;\r\n}\r\n\r\nfunction chengePage(sign) {\r\n  if (sign === 'reset') {\r\n    pageNumber = 1;\r\n  }\r\n  if (sign === 'add') {\r\n    pageNumber = pageNumber + 1;\r\n  }\r\n  if (sign === 'remove') {\r\n    pageNumber = pageNumber - 1;\r\n  }\r\n}\r\n\r\nexport {\r\n  renderFilms,\r\n  pageNumber,\r\n  createCardFunc,\r\n  renderPopularMovies,\r\n  fragment,\r\n  chengePage,\r\n  onNavigete,\r\n};\r\n","import { getMoviesData } from './serviceApi';\r\nimport {\r\n  renderFilms,\r\n  pageNumber,\r\n  createCardFunc,\r\n  fragment,\r\n  renderPopularMovies,\r\n  chengePage,\r\n  onNavigete,\r\n} from './1initialHomePage';\r\n\r\nlet inputVaue = null;\r\n\r\nconst searchForm = document.querySelector('.search-form');\r\nconst searchInput = document.querySelector('#search-input');\r\nconst buttonPrev = document.getElementById('button-control-prev');\r\nconst buttonNext = document.querySelector('#button-control-next');\r\nconst errorMessage = document.getElementById('error-message');\r\nconst pageCounter = document.getElementById('page-counter');\r\nconst buttonSection = document.getElementById('button-container');\r\n\r\nerrorMessage.classList.add('hide');\r\nsearchForm.addEventListener('submit', pressEnter);\r\nsearchInput.addEventListener('input', getSearchText);\r\nbuttonSection.addEventListener('click', plaginationNavigation);\r\n\r\nfunction addHtml(fragmentHtml, rootHtml) {\r\n  fragment.append(fragmentHtml);\r\n  rootHtml.innerHTML = '';\r\n  rootHtml.append(fragment);\r\n}\r\n\r\naddHtml(pageNumber, pageCounter);\r\n\r\nfunction getSearchText(text) {\r\n  inputVaue = text.target.value;\r\n}\r\n\r\nfunction pressEnter(e) {\r\n  e.preventDefault();\r\n  chengePage('reset');\r\n  searchFilms(inputVaue, pageNumber);\r\n  addHtml(pageNumber, pageCounter);\r\n  searchForm.reset();\r\n}\r\n\r\nfunction searchFilms(inputVaue, pageNumber) {\r\n  errorMessage.classList.add('hide');\r\n  getMoviesData(null, inputVaue, pageNumber).then(films => {\r\n    if (films.length < 20) {\r\n      buttonNext.classList.add('hide');\r\n    }\r\n    if (films.length === 0) {\r\n      errorMessage.classList.remove('hide');\r\n      buttonNext.classList.add('hide');\r\n      buttonPrev.classList.add('hide');\r\n      onNavigete('/search?error');\r\n    }\r\n    films.map(film => {\r\n      renderFilms.push(film);\r\n      createCardFunc(film);\r\n      fragment.append(createCardFunc(film));\r\n    });\r\n    const list = document.querySelector('#films-gallery');\r\n    list.innerHTML = '';\r\n    list.append(fragment);\r\n    addHtml(pageNumber, pageCounter);\r\n  });\r\n  onNavigete(`/search?${inputVaue}/page=${pageNumber}`);\r\n}\r\n\r\nfunction plaginationNavigation(e) {\r\n  if (e.target === e.currentTarget) {\r\n    return;\r\n  }\r\n  if (e.target.name === 'Next') {\r\n    buttonPrev.classList.remove('hide');\r\n    chengePage('add');\r\n    addHtml(pageNumber, pageCounter);\r\n    inputVaue\r\n      ? searchFilms(inputVaue, pageNumber)\r\n      : renderPopularMovies(pageNumber);\r\n  }\r\n  if (e.target.name === 'Prev') {\r\n    if (pageNumber === 1) {\r\n      buttonPrev.classList.add('hide');\r\n      return;\r\n    }\r\n    buttonNext.classList.remove('hide');\r\n    chengePage('remove');\r\n    addHtml(pageNumber, pageCounter);\r\n    inputVaue\r\n      ? searchFilms(inputVaue, pageNumber)\r\n      : renderPopularMovies(pageNumber);\r\n  }\r\n}\r\n","import { onNavigete, pageNumber } from './1initialHomePage';\r\n\r\nconst logoButton = document.querySelector('.text_logo');\r\nconst homeButton = document.querySelector('.home');\r\nconst myLibButton = document.querySelector('.my_library');\r\nconst homePage = document.querySelector('#homePage');\r\nconst detailFilm = document.getElementById('detailFilm');\r\nconst libraryBox = document.getElementById('libraryBox');\r\n\r\nfunction activeHomePage() {\r\n  detailFilm.classList.add('hide');\r\n  homePage.classList.remove('hide');\r\n  myLibButton.classList.remove('under_line');\r\n  homeButton.classList.add('under_line');\r\n  homeButton.classList.add('under_line');\r\n  libraryBox.classList.add('hide');\r\n  onNavigete(`/page=${pageNumber}`);\r\n}\r\n\r\nfunction activeLibraryPage() {\r\n  detailFilm.classList.add('hide');\r\n  homePage.classList.add('hide');\r\n  homeButton.classList.remove('under_line');\r\n  myLibButton.classList.add('under_line');\r\n  libraryBox.classList.remove('hide');\r\n  onNavigete('/myLibrary/');\r\n}\r\n\r\nlogoButton.addEventListener('click', activeHomePage);\r\nhomeButton.addEventListener('click', activeHomePage);\r\nmyLibButton.addEventListener('click', activeLibraryPage);\r\n","const refs = {\r\n  myLibHome: document.querySelector('#mylib-home'),\r\n  myLibListItem: document.querySelector('.home__list-item'),\r\n  watchedButton: document.querySelector('#watched-button'),\r\n  queueButton: document.querySelector('#queue-button'),\r\n};\r\n\r\nexport default function () {\r\n  swichmyListLibrary();\r\n  queueBtnHandler();\r\n}\r\n\r\nfunction swichmyListLibrary() {\r\n  console.log(`swichmyListLibrary`);\r\n\r\n  // const watchedButton = document.querySelector('button[data-action=\"queue-button\"]');\r\n  const watchedButton = document.querySelector('#watched-button');\r\n  watchedButton.addEventListener('click', watchedBtnHandler);\r\n\r\n  // const queueButton = document.querySelector('button[data-action=\"queue-button\"]');\r\n  const queueButton = document.querySelector('#queue-button');\r\n  queueButton.addEventListener('click', queueBtnHandler);\r\n}\r\n\r\nfunction queueBtnHandler() {\r\n  console.log(`queueBtnHandler`);\r\n  drawQueueFilmList();\r\n}\r\n\r\nfunction watchedBtnHandler() {\r\n  console.log(`watchedBtnHandler`);\r\n  drawWatchedFilmList();\r\n}\r\n\r\n// imgPath, filmTitle, movieId, voteAverage\r\nfunction createLibraryCardFunc({ backdrop_path, title, id, vote_average }) {\r\n  const myLibHome = document.querySelector('#mylib-home');\r\n\r\n  const libListItemMarkup = `<li class=\"home__list-item\" data-index=\"${id}\">\r\n      <div>\r\n        <div class=\"home__list-rate\">\r\n          <p>${vote_average}</p>\r\n        </div>\r\n        <div class=\"home__list-header\"><h2>${title}</h2></div>\r\n      </div>\r\n      <img class=\"home__list-img\" src=\"https://image.tmdb.org/t/p/w500/${backdrop_path}\" />\r\n    </li>`;\r\n  myLibHome.insertAdjacentHTML('beforeend', libListItemMarkup);\r\n  // refs.myLibListItem.addEventListener('click', () =>\r\n  //   activeDetailsPage(movieId, true),\r\n  // );\r\n}\r\n\r\n//   function renderWatchedFilms() {\r\n//     refs.watchedButton.addEventListener('click', drawWatchedFilmList());\r\n//   }\r\n\r\nfunction drawQueueFilmList() {\r\n  const watchedButton = document.querySelector('#watched-button');\r\n  const queueButton = document.querySelector('#queue-button');\r\n  const myLibHome = document.querySelector('#mylib-home');\r\n  const myLibListItem = document.querySelector('.home__list-item');\r\n\r\n  watchedButton.classList.remove('active-nav-button');\r\n  queueButton.classList.add('active-nav-button');\r\n  const fromLocalStorage = JSON.parse(localStorage.getItem('filmsQueue'));\r\n  console.log(fromLocalStorage);\r\n\r\n  if (fromLocalStorage === null || fromLocalStorage.length === 0) {\r\n    return myLibHome.insertAdjacentHTML(\r\n      'beforeend',\r\n      `<div class=\"no-list\">\r\n            <h2 class=\"no-list__item\">You do not have to queue movies to watch. Add them.</h2>\r\n              </div>`,\r\n    );\r\n  } else {\r\n    const markup = fromLocalStorage\r\n      .map(result => {\r\n        // createLibraryCardFunc(result)\r\n        fetchRequest.fetchMovieDetails(result).then(createLibraryCardFunc);\r\n        console.log(result);\r\n      })\r\n      .join('');\r\n    myLibHome.innerHTML = '';\r\n    myLibHome.insertAdjacentHTML('beforeend', markup);\r\n  }\r\n}\r\nfunction drawWatchedFilmList() {\r\n  const watchedButton = document.querySelector('#watched-button');\r\n  const queueButton = document.querySelector('#queue-button');\r\n  const myLibHome = document.querySelector('#mylib-home');\r\n  const myLibListItem = document.querySelector('.home__list-item');\r\n\r\n  queueButton.classList.remove('active-nav-button');\r\n  watchedButton.classList.add('active-nav-button');\r\n  const fromLocalStorage = JSON.parse(localStorage.getItem('filmsWatched'));\r\n  if (fromLocalStorage === null || fromLocalStorage.length === 0) {\r\n    return myLibHome.insertAdjacentHTML(\r\n      'beforeend',\r\n      `<div class=\"no-list\"\r\n            <h2 class=\"no-list__item\">You do not have watched movies. Add them.</h2>\r\n              </div>`,\r\n    );\r\n  } else {\r\n    const markup = fromLocalStorage\r\n      .map(result => {\r\n        // createLibraryCardFunc(result)\r\n        fetchRequest.fetchMovieDetails(result).then(createLibraryCardFunc);\r\n        console.log(result);\r\n      })\r\n      .join('');\r\n    myLibHome.innerHTML = '';\r\n    myLibHome.insertAdjacentHTML('beforeend', markup);\r\n  }\r\n}\r\n"],"sourceRoot":""}